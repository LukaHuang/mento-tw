<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>【 Flask 教學 】Flask SQLAlchemy | Python 與資料庫的橋樑 - 程式柴 CodeShiba</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="程式柴 CodeShiba"><meta name="msapplication-TileImage" content="/img/favicon.ico"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="程式柴 CodeShiba"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="在本篇文章，我們將介紹 Flask-SQLAlchemy，讓我們能夠在 Python Flask 應用程式中使用 SQLAlchemy 的 ORM 和 Flask-SQLAlchemy 進行資料庫溝通。 Flask 是一個輕量級的 Python Web 框架，用於建立 Web 應用程式，而 SQLAlchemy 則是一個 Python 庫，提供對關係資料庫的高效和高效能的訪問。 Flask-SQ"><meta property="og:type" content="article"><meta property="og:title" content="【 Flask 教學 】Flask SQLAlchemy | Python 與資料庫的橋樑"><meta property="og:url" content="https://codeshiba.com/2023/02/13/python-flask/03-relational-database/"><meta property="og:site_name" content="程式柴 CodeShiba"><meta property="og:description" content="在本篇文章，我們將介紹 Flask-SQLAlchemy，讓我們能夠在 Python Flask 應用程式中使用 SQLAlchemy 的 ORM 和 Flask-SQLAlchemy 進行資料庫溝通。 Flask 是一個輕量級的 Python Web 框架，用於建立 Web 應用程式，而 SQLAlchemy 則是一個 Python 庫，提供對關係資料庫的高效和高效能的訪問。 Flask-SQ"><meta property="og:locale" content="zh_TW"><meta property="og:image" content="https://codeshiba.com/img/python-flask/03/cover.jpeg"><meta property="article:published_time" content="2023-02-13T07:00:00.000Z"><meta property="article:modified_time" content="2023-11-27T04:40:14.263Z"><meta property="article:author" content="Luka Huang"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/python-flask/03/cover.jpeg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://codeshiba.com/2023/02/13/python-flask/03-relational-database/"},"headline":"【 Flask 教學 】Flask SQLAlchemy | Python 與資料庫的橋樑","image":[],"datePublished":"2023-02-13T07:00:00.000Z","dateModified":"2023-11-27T04:40:14.263Z","author":{"@type":"Person","name":"Luka Huang"},"publisher":{"@type":"Organization","name":"程式柴 CodeShiba","logo":{"@type":"ImageObject","url":{"text":"程式柴 CodeShiba"}}},"description":"在本篇文章，我們將介紹 Flask-SQLAlchemy，讓我們能夠在 Python Flask 應用程式中使用 SQLAlchemy 的 ORM 和 Flask-SQLAlchemy 進行資料庫溝通。 Flask 是一個輕量級的 Python Web 框架，用於建立 Web 應用程式，而 SQLAlchemy 則是一個 Python 庫，提供對關係資料庫的高效和高效能的訪問。 Flask-SQ"}</script><link rel="canonical" href="https://codeshiba.com/2023/02/13/python-flask/03-relational-database/"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/monokai.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=417968703" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', '417968703');</script><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="程式柴 CodeShiba" type="application/atom+xml">
</head><body class="is-2-column" id="post-page"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/">程式柴 CodeShiba</a></div><div class="navbar-menu"><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="饅頭計畫" href="/bootcamp">饅頭計畫</a><a class="navbar-item" target="_blank" rel="noopener" title="Youtube" href="https://www.youtube.com/channel/UCDOlnOIq5EjQt1ikKhs4XZg"><i class="fab fa-youtube"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目錄" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜尋" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-9-tablet is-9-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">2023-02-13</time></span><span class="level-item"><span>Python</span><span> / </span><a class="link-muted" href="/categories/Python/Flask-%E6%95%99%E5%AD%B8/">Flask 教學</a></span></div></div><h1 class="title is-3 is-size-4-mobile">【 Flask 教學 】Flask SQLAlchemy | Python 與資料庫的橋樑</h1><div class="content"><p><img src="/img/loading.gif" data-original="/img/python-flask/03/cover.jpeg"></p>
<p>在本篇文章，我們將介紹 Flask-SQLAlchemy，讓我們能夠在 Python Flask 應用程式中使用 SQLAlchemy 的 ORM 和 Flask-SQLAlchemy 進行資料庫溝通。</p>
<p>Flask 是一個輕量級的 Python Web 框架，用於建立 Web 應用程式，而 SQLAlchemy 則是一個 Python 庫，提供對關係資料庫的高效和高效能的訪問。</p>
<p>Flask-SQLAlchemy 是一個用於 Flask 應用程式的擴展程式，簡化了使用 SQLAlchemy 的複雜性，並提供了常見的對象和模式，例如與每個 Web 請求相關聯的會話、模型和引擎，同時不會更改 SQLAlchemy 的工作方式。</p>
<p>下面我們來看看如何在 Python Flask 應用程式中使用 Flask-SQLAlchemy。</p>
<h2 id="安裝-Flask-SQLAlchemy"><a href="#安裝-Flask-SQLAlchemy" class="headerlink" title="安裝 Flask-SQLAlchemy"></a>安裝 Flask-SQLAlchemy</h2><p>要使用 Flask-SQLAlchemy，首先需要在計算機上安裝它。可以使用以下命令在終端中安裝 Flask-SQLAlchemy：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">pip install Flask-SQLAlchemy<br></code></pre></td></tr></table></figure>

<h2 id="建立-Flask-應用程式"><a href="#建立-Flask-應用程式" class="headerlink" title="建立 Flask 應用程式"></a>建立 Flask 應用程式</h2><hr>
<p>在使用 Flask-SQLAlchemy 之前，需要建立一個 Flask 應用程式。可以使用以下程式碼建立一個簡單的 Flask 應用程式：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> Flask<br>app = Flask(__name__)<br></code></pre></td></tr></table></figure>

<h2 id="設定資料庫"><a href="#設定資料庫" class="headerlink" title="設定資料庫"></a>設定資料庫</h2><hr>
<p>在 Flask-SQLAlchemy 中，可以使用 PostgreSQL、MySQL、SQLite 或 Oracle 等多種資料庫。在本節中，我們將使用 SQLite3 作為資料庫。可以使用以下程式碼設定資料庫：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> flask_sqlalchemy <span class="hljs-keyword">import</span> SQLAlchemy<br>app.config[<span class="hljs-string">&#x27;SQLALCHEMY_DATABASE_URI&#x27;</span>] = <span class="hljs-string">&#x27;sqlite:///example.db&#x27;</span><br>db = SQLAlchemy(app)<br></code></pre></td></tr></table></figure>

<p>上述程式碼將建立一個名為 example.db 的 SQLite3 資料庫。</p>
<h2 id="建立資料庫模型"><a href="#建立資料庫模型" class="headerlink" title="建立資料庫模型"></a>建立資料庫模型</h2><p>在 Flask-SQLAlchemy 中，資料庫模型由 Python Class定義。以下是一個簡單的範例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span>(<span class="hljs-params">db.Model</span>):</span><br>    <span class="hljs-built_in">id</span> = db.Column(db.Integer, primary_key=<span class="hljs-literal">True</span>)<br>    name = db.Column(db.String(<span class="hljs-number">80</span>), nullable=<span class="hljs-literal">False</span>)<br>    email = db.Column(db.String(<span class="hljs-number">120</span>), unique=<span class="hljs-literal">True</span>, nullable=<span class="hljs-literal">False</span>)<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__repr__</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;User %r&gt;&#x27;</span> % self.username<br></code></pre></td></tr></table></figure>

<p>上述程式碼定義了一個名為 User 的模型，包含三個屬性：id、name 和 email。</p>
<h2 id="建立資料庫表"><a href="#建立資料庫表" class="headerlink" title="建立資料庫表"></a>建立資料庫表</h2><p>在Flask-SQLAlchemy 中，可以使用以下程式碼建立資料庫表：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">db.create_all()<br></code></pre></td></tr></table></figure>

<p>上述程式碼將根據模型定義建立資料庫表。</p>
<h2 id="添加資料到資料庫"><a href="#添加資料到資料庫" class="headerlink" title="添加資料到資料庫"></a>添加資料到資料庫</h2><p>在 Flask-SQLAlchemy 中，可以使用以下程式碼向資料庫添加資料：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">User</span>(name<span class="hljs-operator">=</span><span class="hljs-string">&#x27;John Doe&#x27;</span>, email<span class="hljs-operator">=</span><span class="hljs-string">&#x27;johndoe@example.com&#x27;</span>)<br>db.session.add(<span class="hljs-keyword">user</span>)<br>db.session.commit()<br></code></pre></td></tr></table></figure>

<p>上述程式碼將建立一個新的 User 對象，將其添加到資料庫中，並提交更改。</p>
<h2 id="從資料庫檢索資料"><a href="#從資料庫檢索資料" class="headerlink" title="從資料庫檢索資料"></a>從資料庫檢索資料</h2><p>在 Flask-SQLAlchemy 中，可以使用以下程式碼從資料庫檢索資料：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">users <span class="hljs-operator">=</span> User.query.all()<br></code></pre></td></tr></table></figure>

<p>上述程式碼將檢索資料庫中的所有 User 對象，並將它們作為列表返回。</p>
<h2 id="更新資料庫中的資料"><a href="#更新資料庫中的資料" class="headerlink" title="更新資料庫中的資料"></a>更新資料庫中的資料</h2><p>在 Flask-SQLAlchemy 中，可以使用以下程式碼更新資料庫中的資料：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">user</span> <span class="hljs-operator">=</span> User.query.filter_by(email<span class="hljs-operator">=</span><span class="hljs-string">&#x27;johndoe@example.com&#x27;</span>).<span class="hljs-keyword">first</span>()<br>user.name <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;John&#x27;</span><br>db.session.commit()<br></code></pre></td></tr></table></figure>

<p>上述程式碼將從資料庫中檢索具有指定電子郵件地址的 User 對象，將其名稱更改為 John，然後提交更改。</p>
<h2 id="刪除資料庫中的資料"><a href="#刪除資料庫中的資料" class="headerlink" title="刪除資料庫中的資料"></a>刪除資料庫中的資料</h2><p>在 Flask-SQLAlchemy 中，可以使用以下程式碼從資料庫中刪除資料：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">user</span> <span class="hljs-operator">=</span> User.query.filter_by(email<span class="hljs-operator">=</span><span class="hljs-string">&#x27;johndoe@example.com&#x27;</span>).<span class="hljs-keyword">first</span>()<br>db.session.delete(<span class="hljs-keyword">user</span>)<br>db.session.commit()<br></code></pre></td></tr></table></figure>

<p>上述程式碼將從資料庫中刪除具有指定電子郵件地址的 User 對象，然後提交更改。</p>
<h2 id="小節"><a href="#小節" class="headerlink" title="小節"></a>小節</h2><p>綜上所述，本篇教學文章介紹了 Flask-SQLAlchemy 的基本用法，包括建立 Flask 應用程式、設定資料庫、建立資料庫模型、建立資料庫表、添加資料到資料庫、從資料庫檢索資料、更新資料庫中的資料和刪除資料庫中的資料。這些步驟提供了初學者所需的基礎知識，可以用來構建簡單的 Python Flask 應用程式，以及進一步擴展以實現更複雜的資料庫操作。需要注意的是，Flask-SQLAlchemy 需要一定的學習曲線，但一旦掌握了基本概念，就可以輕鬆地使用它來管理資料庫。</p>
<p>希望本篇教學文章能夠為初學者提供一個良好的起點，幫助他們進入 Flask-SQLAlchemy 的世界，並開始在 Python Flask 應用程式中進行資料庫溝通。</p>
<h2 id="延伸閱讀"><a href="#延伸閱讀" class="headerlink" title="延伸閱讀"></a>延伸閱讀</h2><p>以下是本次回答所使用的參考資料的標題和連結：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://flask-sqlalchemy.palletsprojects.com/en/3.0.x/quickstart/">Flask-SQLAlchemy 快速入門</a> 和 <a target="_blank" rel="noopener" href="https://flask-sqlalchemy.palletsprojects.com/en/2.x/quickstart/">Flask-SQLAlchemy 快速入門</a>：兩篇 Flask-SQLAlchemy 的快速入門指南，介紹了 Flask-SQLAlchemy 的基本用法，是初學者快速入門 Flask-SQLAlchemy 的好資源。</li>
<li><a target="_blank" rel="noopener" href="https://www.digitalocean.com/community/tutorials/how-to-use-flask-sqlalchemy-to-interact-with-databases-in-a-flask-application">如何在 Flask 應用程式中使用 SQLAlchemy 進行資料庫 </a>：這篇教學透過一個小型的學生管理系統展示了如何使用 Flask-SQLAlchemy 擴展來完成基本的資料庫溝通，如連接到資料庫伺服器、建立資料庫表、添加資料、檢索資料、更新資料和刪除資料等操作。</li>
<li><a target="_blank" rel="noopener" href="https://www.digitalocean.com/community/tutorials/how-to-structure-a-large-flask-application-with-flask-blueprints-and-flask-sqlalchemy">如何使用 Flask Blueprints 和 Flask-SQLAlchemy 構建大型 Flask 應用程式的結構</a>：這篇教學詳細介紹了如何使用 Flask 藍圖和 Flask-SQLAlchemy 構建大型 Flask 應用程式的架構。本文提供了範例程式碼和詳細的解釋，是進階學習 Flask-SQLAlchemy 的好資源。</li>
<li><a target="_blank" rel="noopener" href="https://flask-sqlalchemy.palletsprojects.com/">Flask-SQLAlchemy 文件</a>：Flask-SQLAlchemy 的官方文件，提供了完整的 API 參考、常見問題解答和高級主題等內容。無論你是初學者還是經驗豐富的 Python 開發者，都可以在這裡找到所需的資訊。</li>
<li><a target="_blank" rel="noopener" href="https://pythonbasics.org/flask-sqlalchemy/">Flask SQLAlchemy (with Examples)</a>：這是一篇包含範例的教學，介紹了如何使用 Flask-SQLAlchemy 建立和操作資料庫表。本文包含了範例程式碼和詳細的解釋，是初學者快速掌握 Flask-SQLAlchemy 的好資源。</li>
<li><a target="_blank" rel="noopener" href="https://towardsdatascience.com/building-a-crud-app-with-flask-and-sqlalchemy-1d082741bc2b">使用 Flask 和 SQLAlchemy 建立一個基本的 CRUD 應用程式</a>：這篇 </li>
</ul>
</div></article></div><div class="card"><div class="card-content"><div id="mc_embed_signup"><form class="validate" action="https://gmail.us20.list-manage.com/subscribe/post?u=669fab1d59a1d7c3ed727d0f0&amp;amp;id=828d363a35" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" target="_blank" novalidate><div id="mc_embed_signup_scroll"><h2>歡迎訂閱，獲取最新資訊、教學文章，一起變強。</h2><div class="mc-field-group"><input class="required email" type="email" placeholder="請輸入 EMAIL" value="" name="EMAIL" id="mce-EMAIL"></div><div class="clear" id="mce-responses"><div class="response" id="mce-error-response" style="display:none"></div><div class="response" id="mce-success-response" style="display:none"></div></div><div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_fb08e7e4c12d83430b6e6d529_bc712ae0b8" tabindex="-1" value=""></div><div class="clear"><input class="button" type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"></div></div></form></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2023/02/15/python-flask/04-flask-factory/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">【 Flask 教學 】Flask Factory 介紹</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2023/02/11/mc2-01-Phoebe/"><span class="level-item">饅頭計畫 #2 學員心得 (1) Phoebe</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">評論</h3><script src="https://utteranc.es/client.js" repo="LukaHuang/codeshiba.com" issue-term="pathname" label="utterances" theme="github-light" crossorigin="anonymous" async></script></div></div></div><!--!--><div class="column column-right is-3-tablet is-3-desktop is-3-widescreen  order-3"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目錄</h3><ul class="menu-list"><li><a class="level is-mobile" href="#安裝-Flask-SQLAlchemy"><span class="level-left"><span class="level-item">1</span><span class="level-item">安裝 Flask-SQLAlchemy</span></span></a></li><li><a class="level is-mobile" href="#建立-Flask-應用程式"><span class="level-left"><span class="level-item">2</span><span class="level-item">建立 Flask 應用程式</span></span></a></li><li><a class="level is-mobile" href="#設定資料庫"><span class="level-left"><span class="level-item">3</span><span class="level-item">設定資料庫</span></span></a></li><li><a class="level is-mobile" href="#建立資料庫模型"><span class="level-left"><span class="level-item">4</span><span class="level-item">建立資料庫模型</span></span></a></li><li><a class="level is-mobile" href="#建立資料庫表"><span class="level-left"><span class="level-item">5</span><span class="level-item">建立資料庫表</span></span></a></li><li><a class="level is-mobile" href="#添加資料到資料庫"><span class="level-left"><span class="level-item">6</span><span class="level-item">添加資料到資料庫</span></span></a></li><li><a class="level is-mobile" href="#從資料庫檢索資料"><span class="level-left"><span class="level-item">7</span><span class="level-item">從資料庫檢索資料</span></span></a></li><li><a class="level is-mobile" href="#更新資料庫中的資料"><span class="level-left"><span class="level-item">8</span><span class="level-item">更新資料庫中的資料</span></span></a></li><li><a class="level is-mobile" href="#刪除資料庫中的資料"><span class="level-left"><span class="level-item">9</span><span class="level-item">刪除資料庫中的資料</span></span></a></li><li><a class="level is-mobile" href="#小節"><span class="level-left"><span class="level-item">10</span><span class="level-item">小節</span></span></a></li><li><a class="level is-mobile" href="#延伸閱讀"><span class="level-left"><span class="level-item">11</span><span class="level-item">延伸閱讀</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><p class="is-size-7"><span>&copy; 2023 Luka Huang</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("zh-TW");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: false,
                    fold: ''
                }
            }
        };</script><script src="/js/column.js"></script><a id="back-to-top" title="回到頁首" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="請輸入關鍵字..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"請輸入關鍵字...","untitled":"(無標題)","posts":"文章","pages":"頁面","categories":"文章分類","tags":"標籤"});
        });</script>
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 30,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(r){r.imageLazyLoadSetting.processImages=t;var e=r.imageLazyLoadSetting.isSPA,n=r.imageLazyLoadSetting.preloadRatio||1,c=a();function a(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){e&&(c=a());for(var t,o=0;o<c.length;o++)0<=(t=(t=c[o]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(r.innerHeight*n||document.documentElement.clientHeight*n)&&function(){var t,e,n,a,i=c[o];e=function(){c=c.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(n=new Image,a=t.getAttribute("data-original"),n.onload=function(){t.src=a,t.removeAttribute("data-original"),e&&e()},t.src!==a&&(n.src=a))}()}function i(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",i),r.addEventListener("resize",i),r.addEventListener("orientationchange",i)}(this);</script></body></html>